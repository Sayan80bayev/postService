?   	postService/cmd/server	[no test files]
?   	postService/docs	[no test files]
?   	postService/internal/bootstrap	[no test files]
?   	postService/internal/cache	[no test files]
?   	postService/internal/config	[no test files]
?   	postService/internal/delivery	[no test files]
?   	postService/internal/events	[no test files]
?   	postService/internal/mappers	[no test files]
?   	postService/internal/model	[no test files]
?   	postService/internal/repository	[no test files]
?   	postService/internal/routes	[no test files]
=== RUN   TestPostService_CreatePost_Success
[32mINFO[0m PostCreated event published successfully 2025-09-06 06:14:47
--- PASS: TestPostService_CreatePost_Success (0.00s)
=== RUN   TestPostService_GetPosts_CacheMiss_FetchFromRepo
[32mINFO[0m Fetched posts from DB and cached 2025-09-06 06:14:47
--- PASS: TestPostService_GetPosts_CacheMiss_FetchFromRepo (0.00s)
=== RUN   TestPostService_GetPostByID_CacheMiss
[32mINFO[0m Fetched post 4675e721-c4a3-467b-bc2f-dc0734dce60a from DB and cached 2025-09-06 06:14:47
--- PASS: TestPostService_GetPostByID_CacheMiss (0.00s)
=== RUN   TestPostService_DeletePost_PermissionDenied
--- PASS: TestPostService_DeletePost_PermissionDenied (0.00s)
=== RUN   TestPostService_DeletePost_Success
[32mINFO[0m PostDeleted event published successfully 2025-09-06 06:14:47
--- PASS: TestPostService_DeletePost_Success (0.00s)
PASS
ok  	postService/internal/service	0.709s
?   	postService/internal/transfer/request	[no test files]
?   	postService/internal/transfer/response	[no test files]
2025/09/06 06:14:47 github.com/testcontainers/testcontainers-go - Connected to docker: 
  Server Version: 28.3.0
  API Version: 1.50
  Operating System: Docker Desktop
  Total Memory: 3919 MB
  Labels:
    com.docker.desktop.address=unix:///Users/sayanseksenbaev/Library/Containers/com.docker.docker/Data/docker-cli.sock
  Testcontainers for Go Version: v0.38.0
  Resolved Docker Host: unix:///var/run/docker.sock
  Resolved Docker Socket Path: /var/run/docker.sock
  Test SessionID: 6283ae9c137f6a6edf2b6ff17e3c1ba6fdc675aea4d81ccdd36f58a9a7c0b575
  Test ProcessID: ba47ca74-e807-4d2f-bedc-98026808325a
2025/09/06 06:14:47 🐳 Creating container for image testcontainers/ryuk:0.12.0
2025/09/06 06:14:47 ✅ Container created: 52fc1a2c2763
2025/09/06 06:14:47 🐳 Starting container: 52fc1a2c2763
2025/09/06 06:14:48 ✅ Container started: 52fc1a2c2763
2025/09/06 06:14:48 ⏳ Waiting for container id 52fc1a2c2763 image: testcontainers/ryuk:0.12.0. Waiting for: &{Port:8080/tcp timeout:<nil> PollInterval:100ms skipInternalCheck:false skipExternalCheck:false}
2025/09/06 06:14:48 🔔 Container is ready: 52fc1a2c2763
2025/09/06 06:14:48 🐳 Creating container for image mongo:6.0
2025/09/06 06:14:48 ✅ Container created: 9f55f918e52e
2025/09/06 06:14:48 🐳 Starting container: 9f55f918e52e
2025/09/06 06:14:48 ✅ Container started: 9f55f918e52e
2025/09/06 06:14:48 ⏳ Waiting for container id 9f55f918e52e image: mongo:6.0. Waiting for: &{Port:27017/tcp timeout:<nil> PollInterval:100ms skipInternalCheck:false skipExternalCheck:false}
2025/09/06 06:14:49 🔔 Container is ready: 9f55f918e52e
2025/09/06 06:14:49 🐳 Creating container for image redis:7.0
2025/09/06 06:14:49 ✅ Container created: 6dd2c079efe7
2025/09/06 06:14:49 🐳 Starting container: 6dd2c079efe7
2025/09/06 06:14:49 ✅ Container started: 6dd2c079efe7
2025/09/06 06:14:49 ⏳ Waiting for container id 6dd2c079efe7 image: redis:7.0. Waiting for: &{Port:6379/tcp timeout:<nil> PollInterval:100ms skipInternalCheck:false skipExternalCheck:false}
2025/09/06 06:14:49 🔔 Container is ready: 6dd2c079efe7
2025/09/06 06:14:49 🐳 Creating container for image minio/minio:RELEASE.2025-04-22T22-12-26Z
2025/09/06 06:14:49 ✅ Container created: 6747865fa7a9
2025/09/06 06:14:49 🐳 Starting container: 6747865fa7a9
2025/09/06 06:14:49 ✅ Container started: 6747865fa7a9
2025/09/06 06:14:49 ⏳ Waiting for container id 6747865fa7a9 image: minio/minio:RELEASE.2025-04-22T22-12-26Z. Waiting for: &{timeout:<nil> Log:API: http:// IsRegexp:false Occurrence:1 PollInterval:100ms check:<nil> submatchCallback:<nil> re:<nil> log:[]}
2025/09/06 06:14:49 🔔 Container is ready: 6747865fa7a9
2025/09/06 06:14:49 🐳 Creating container for image bitnami/kafka:3.6.1
2025/09/06 06:14:49 ✅ Container created: d9a5abb3c438
2025/09/06 06:14:49 🐳 Starting container: d9a5abb3c438
2025/09/06 06:14:50 ✅ Container started: d9a5abb3c438
2025/09/06 06:14:50 ⏳ Waiting for container id d9a5abb3c438 image: bitnami/kafka:3.6.1. Waiting for: &{Port:9092/tcp timeout:0x1400041a240 PollInterval:100ms skipInternalCheck:false skipExternalCheck:false}
2025/09/06 06:14:53 🔔 Container is ready: d9a5abb3c438
[32mINFO[0m Connected to MongoDB 2025-09-06 06:14:54
[32mINFO[0m ✅ Connected to Redis at localhost:60443 (DB=0) 2025-09-06 06:14:54
[32mINFO[0m Redis connected 2025-09-06 06:14:54
[32mINFO[0m ✅ Successfully connected to MinIO 2025-09-06 06:14:54
[32mINFO[0m FileStorage connected: bucket=test-bucket host=localhost 2025-09-06 06:14:54
%3|1757121294.945|FAIL|rdkafka#producer-1| [thrd:localhost:9092/bootstrap]: localhost:9092/bootstrap: Connect to ipv6#[::1]:9092 failed: Connection refused (after 0ms in state CONNECT)
[32mINFO[0m Kafka producer initialized for topic: post-events 2025-09-06 06:14:54
[32mINFO[0m Kafka broker: localhost:9092 2025-09-06 06:14:54
=== RUN   TestPostLifecycle
--- PASS: TestPostLifecycle (10.03s)
PASS
2025/09/06 06:15:05 🐳 Stopping container: 9f55f918e52e
2025/09/06 06:15:05 ✅ Container stopped: 9f55f918e52e
2025/09/06 06:15:05 🐳 Terminating container: 9f55f918e52e
2025/09/06 06:15:05 🚫 Container terminated: 9f55f918e52e
2025/09/06 06:15:05 🐳 Stopping container: 6dd2c079efe7
2025/09/06 06:15:05 ✅ Container stopped: 6dd2c079efe7
2025/09/06 06:15:05 🐳 Terminating container: 6dd2c079efe7
2025/09/06 06:15:05 🚫 Container terminated: 6dd2c079efe7
2025/09/06 06:15:05 🐳 Stopping container: 6747865fa7a9
2025/09/06 06:15:05 ✅ Container stopped: 6747865fa7a9
2025/09/06 06:15:05 🐳 Terminating container: 6747865fa7a9
2025/09/06 06:15:05 🚫 Container terminated: 6747865fa7a9
2025/09/06 06:15:05 🐳 Stopping container: d9a5abb3c438
%6|1757121305.883|FAIL|rdkafka#producer-1| [thrd:localhost:9092/bootstrap]: localhost:9092/1: Disconnected (after 9925ms in state UP)
%3|1757121305.975|FAIL|rdkafka#producer-1| [thrd:localhost:9092/bootstrap]: localhost:9092/1: Connect to ipv6#[::1]:9092 failed: Connection refused (after 1ms in state CONNECT)
2025/09/06 06:15:06 ✅ Container stopped: d9a5abb3c438
2025/09/06 06:15:06 🐳 Terminating container: d9a5abb3c438
2025/09/06 06:15:06 🚫 Container terminated: d9a5abb3c438
ok  	postService/tests/integration	20.010s
?   	postService/tests/testutil	[no test files]
